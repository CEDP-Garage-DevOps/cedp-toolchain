{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"messages": {
		"$i18n": "locales.yml"
	},
	"title": {
		"$ref": "#/messages/deploy.title"
	},
	"description": {
		"$ref": "#/messages/deploy.description"
	},
	"longDescription": {
		"$ref": "#/messages/deploy.longDescription"
	},
	"type": "object",
	"properties": {
		"api-key": {
			"description": {
				"$ref": "#/messages/deploy.apikeyDescription"
			},
			"type": "string",
			"pattern": "\\S"
		},
		"registry-region": {
			"description": {
				"$ref": "#/messages/deploy.registryRegionDescription"
			},
			"type": "string",
			"disabled": false,
			"validator": {
				"v-type": "k8s-region",
				"params": [
					"api-key"
				]
			}
		},
		"destination": {
			"type": "string",
			"disabled": false,
			"description": "Destination specified in build.yaml"
		},
		"deployment-type": {
			"title": "Choose deployment target",
			"type": "string",
			"enum": [
				"public_kubernetes",
				"public_openshift",
				"private_kubernetes"
			]
		},
		"cluster": {
			"type": "string",
			"disabled": false,
			"description": "Cluster name"
		},
		"domain": {
			"type": "string",
			"disabled": false,
			"description": "Ingress subdomain"
		},
		"externalIP": {
			"type": "string",
			"disabled": false,
			"description": "Ingress subdomain IP address"
		},
		"dockerImageName": {
			"type": "string",
			"disabled": false,
			"description": "Bifrost Image"
		},
		"key-protect-name": {
			"type": "string",
			"disabled": false,
			"description": "Key Protect instance name for credentials management"
		},
		"INPUT_GIT_BRANCH": {
			"type": "string",
			"disabled": false,
			"description": "Branch to trigger pipeline"
		},
		"VERSIONS_GIT_BRANCH": {
			"type": "string",
			"disabled": false,
			"description": "Branch to store image versions"
		},
		"VERDACCIO_EMAIL": {
			"type": "string",
			"disabled": false,
			"description": " "
		},
		"VERDACCIO_USER": {
			"type": "string",
			"disabled": false,
			"description": " "
		},
		"VERDACCIO_PASSWORD": {
			"type": "string",
			"disabled": false,
			"pattern": "\\S",
			"description": " "
		},
		"ARTIFACTORY_USER": {
			"type": "string",
			"disabled": false,
			"description": " "
		},
		"ARTIFACTORY_APIKEY": {
			"type": "string",
			"disabled": false,
			"pattern": "\\S",
			"description": " "
		},
		"ARTIFACTORY_URL": {
			"type": "string",
			"disabled": false,
			"description": " "
		},
		"ICP_USER": {
			"type": "string",
			"disabled": false,
			"description": " "
		},
		"ICP_NAMESPACE": {
			"type": "string",
			"disabled": false,
			"description": " "
		},
		"ICP_PASSWORD": {
			"type": "string",
			"disabled": false,
			"pattern": "\\S",
			"description": " "
		}
	},
	"required": [
		"api-key",
		"registry-region",
		"destination",
		"dockerImageName",
		"INPUT_GIT_BRANCH",
		"VERSIONS_GIT_BRANCH"
	],
	"form": [
		{
			"type": "password",
			"readonly": false,
			"title": {
				"$ref": "#/messages/deploy.apikey"
			},
			"key": "api-key"
		},
		{
			"type": "select",
			"key": "registry-region"
		},
		{
			"type": "label",
			"title": " "
		},
		{
			"type": "section",
			"title": "Pipeline parameters",
			"description": "Required parameters to execute toolchains",
			"items": [
				{
					"type": "table",
					"columnCount": 1,
					"widths": [
						"100%"
					],
					"items": [
						{
							"type": "label",
							"title": "Pipeline Image"
						},
						{
							"type": "text",
							"key": "dockerImageName",
							"readonly": false
						},
						{
							"type": "label",
							"title": "Key Protect Instance Name"
						},
						{
							"type": "text",
							"key": "key-protect-name",
							"readonly": false
						}
					]
				},
				{
					"type": "table",
					"columnCount": 5,
					"widths": [
						"32%",
						"2%",
						"32%",
						"2%",
						"32%"
					],
					"items": [
						{
							"type": "label",
							"title": "Git input branch"
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "label",
							"title": "Git versions branch"
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "label",
							"title": "Destination"
						},
						{
							"type": "text",
							"key": "INPUT_GIT_BRANCH",
							"readonly": false
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "text",
							"key": "VERSIONS_GIT_BRANCH",
							"readonly": false
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "text",
							"key": "destination",
							"readonly": false
						}
					]
				},
				{
					"type": "selectfieldset",
					"key": "deployment-type",
					"titleMap": {
						"public_kubernetes": "IBM Public Cloud Kubernetes Cluster",
						"public_openshift": "IBM Public Cloud Openshift Cluster",
						"private_kubernetes": "IBM Cloud Private Cluster"
					},
					"items": [
						{
							"type": "table",
							"columnCount": 5,
							"widths": [
								"32%",
								"2%",
								"32%",
								"2%",
								"32%"
							],
							"items": [
								{
									"type": "label",
									"title": "Cluster"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "Ingress subdomain"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "External IP"
								},
								{
									"type": "text",
									"key": "cluster",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "text",
									"key": "domain",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "text",
									"key": "externalIP",
									"readonly": false
								}
							]
						},
						{
							"type": "table",
							"columnCount": 5,
							"widths": [
								"32%",
								"2%",
								"32%",
								"2%",
								"32%"
							],
							"items": [
								{
									"type": "label",
									"title": "Cluster"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "Ingress subdomain"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "External IP"
								},
								{
									"type": "text",
									"key": "cluster",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "text",
									"key": "domain",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "text",
									"key": "externalIP",
									"readonly": false
								}
							]
						},
						{
							"type": "table",
							"columnCount": 5,
							"widths": [
								"32%",
								"2%",
								"32%",
								"2%",
								"32%"
							],
							"items": [
								{
									"type": "label",
									"title": "Cluster URL"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "Ingress domain"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "External IP"
								},
								{
									"type": "text",
									"description": "ICP Console URL",
									"key": "cluster",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "text",
									"description": "Ingress domain",
									"key": "domain",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "text",
									"description": "Ingress domain IP",
									"key": "externalIP",
									"readonly": false
								},
								{
									"type": "label",
									"title": "ICP User"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "ICP Password"
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "label",
									"title": "ICP Namespace"
								},
								{
									"type": "text",
									"key": "ICP_USER",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "password",
									"key": "ICP_PASSWORD",
									"readonly": false
								},
								{
									"type": "label",
									"title": ""
								},
								{
									"type": "text",
									"key": "ICP_NAMESPACE",
									"readonly": false
								}
							]
						}
					]
				}
			]
		},
		{
			"type": "section",
			"title": "Optional parameters",
			"description": "Additional parameters which you can enter based on your use case",
			"items": [
				{
					"type": "table",
					"columnCount": 5,
					"widths": [
						"32%",
						"2%",
						"32%",
						"2%",
						"32%"
					],
					"items": [
						{
							"type": "label",
							"title": "Artifactory URL"
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "label",
							"title": "Artifactory User"
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "label",
							"title": "Artifactory API Key"
						},
						{
							"type": "text",
							"key": "ARTIFACTORY_URL",
							"readonly": false
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "text",
							"key": "ARTIFACTORY_USER",
							"readonly": false
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "password",
							"key": "ARTIFACTORY_APIKEY",
							"readonly": false
						}
					]
				},
				{
					"type": "table",
					"columnCount": 5,
					"widths": [
						"32%",
						"2%",
						"32%",
						"2%",
						"32%"
					],
					"items": [
						{
							"type": "label",
							"title": "Verdaccio Email"
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "label",
							"title": "Verdaccio User"
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "label",
							"title": "Verdaccio Password"
						},
						{
							"type": "text",
							"key": "VERDACCIO_EMAIL",
							"readonly": false
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "text",
							"key": "VERDACCIO_USER",
							"readonly": false
						},
						{
							"type": "label",
							"title": ""
						},
						{
							"type": "password",
							"key": "VERDACCIO_PASSWORD",
							"readonly": false
						}
					]
				}
			]
		},
		{
			"type": "validator",
			"url": "/devops/setup/bm-helper/custom_helper.html"
		}
	]
}
